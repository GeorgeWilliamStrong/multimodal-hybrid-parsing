# Multimodal Hybrid Parsing

A library for multimodal hybrid document parsing.

## System Requirements

Before installing this package, you need the following system dependencies:

- **Poppler** (for PDF processing)
  - macOS: `brew install poppler`
  - Ubuntu: `sudo apt-get install poppler-utils`
  - Windows: See [pdf2image documentation](https://github.com/Belval/pdf2image#windows)

## Installation

1. Install system dependencies (see above)
2. Activate the environment you wish to install this library in
3. Follow these steps
```bash
git clone https://github.com/georgewilliamstrong/multimodal-hybrid-parsing.git
cd multimodal-hybrid-parsing
pip install -e .
```

## Usage

### Basic Document Parsing

For basic document parsing to markdown:

```python
from multimodal_hybrid_parsing import DocumentParser

# Create parser
parser = DocumentParser()

# Parse document
parser.load_document("path/to/document.pdf")
markdown = parser.to_markdown("output.md")  # output path is optional
```

### Image Extraction

To extract page images from a document:

```python
from multimodal_hybrid_parsing import PageImageConverter

# Create converter
converter = PageImageConverter(dpi=300)  # adjust DPI as needed

# Convert document to images
images = converter.convert_to_images(
    "path/to/document.pdf",
    "output/images"  # output directory is optional
)
```

### Hybrid Parsing

For enhanced document parsing using VLM to refine markdown generated by a heuristic parser:

```python
from multimodal_hybrid_parsing import HybridParser

# Create hybrid parser (requires OpenAI API key)
parser = HybridParser(
    batch_size=3,  # number of pages per batch
    openai_api_key="your-api-key"  # optional, can use environment variable
)

# Parse document with VLM refinement
markdown = parser.parse_document(
    "path/to/document.pdf",
    "output.md",  # output path is optional
    "temp/images"  # temporary image directory is optional
)
```
